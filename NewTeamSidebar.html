<!DOCTYPE html>
<html>
<head>
<base target="_top">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<?!= include("style-css"); ?>
</head>
<body style="margin:10px;padding:10px">


<div class="input-field">
  <select id="dropdownList">
  <option value="" disabled selected>Choose a country</option>
  <? for (var i=0;i<country.length;i++){ ?>
  <option id="countries"><?= country[i]?></option>
  <? } ?>
  </select>
  <label>Country</label>
</div>
<div class="input-field">
  <input id="team" type="text" class="validate">
  <label for="team">Name the new team</label>
</div>
<button class="btn waves-effect waves-light blue darken-4" id="btn">Submit</button>


</body>
  <script>

  //validate team name
  document.getElementById("team").addEventListener("input",getValidate);
  document.getElementById("btn").disabled=true
  function getValidate(){
    var info ={}
    info.country = document.getElementById("countries").value;
    info.name = document.getElementById("team").value;
    console.log(info.name)
    google.script.run.withSuccessHandler(update).TeamInfoValidate(info);
  }
  
  function update(res){
  console.log(res)
    if(res==true){document.getElementById("btn").disabled=false
    }else{document.getElementById("btn").disabled=true}
  }
  
  document.getElementById("btn").addEventListener("click",addTeam)
  function addTeam(){
    var info ={}
    info.country = document.getElementById("countries").value;
    info.name = document.getElementById("team").value;
//    google.script.run.userClicked(info);
    document.getElementById("countries").value = '';
    document.getElementById("team").value = '';
    console.log(document.getElementById("countries").value)
//    google.script.host.close();
  }
  </script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var elems = document.querySelectorAll('select');
      var instances = M.FormSelect.init(elems);
    });
  </script>
  

</html>


